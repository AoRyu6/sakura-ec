!!!
%html
  %head
    %meta{ content: 'text/html; charset=UTF-8', 'http-equiv': 'Content-Type' }
    %title= content_for(:title) || 'Sakura Ec'
    %meta{ content: 'width=device-width,initial-scale=1', name: 'viewport' }
    %meta{ content: 'yes', name: 'apple-mobile-web-app-capable' }
    %meta{ content: 'yes', name: 'mobile-web-app-capable' }
    = csrf_meta_tags
    = csp_meta_tag
    = yield :head
    %link{ href: '/icon.png', rel: 'icon', type: 'image/png' }
    %link{ href: '/icon.svg', rel: 'icon', type: 'image/svg+xml' }
    %link{ href: '/icon.png', rel: 'apple-touch-icon' }
    = stylesheet_link_tag :app, 'data-turbo-track': 'reload'
    = javascript_include_tag 'application', 'data-turbo-track': 'reload', type: 'module'
  %body
    %header.navbar.navbar-expand-sm.navbar-light.bg-light-green
      .container
        = link_to 'さくらマーケット', root_path, class: 'navbar-brand mr-auto text-white'
        %button.navbar-toggler{ type: 'button', data: { 'bs-toggle': 'collapse', 'bs-target': '#navbar-content' } }
          %span.navbar-toggler-icon
        #navbar-content.collapse.navbar-collapse
          .d-flex.justify-content-end.navbar-nav.gap-4.ms-auto
            - if user_signed_in?
              .dropdown
                = button_tag current_user.email, class: 'dropdown-toggle nav-link', data: { 'bs-toggle': 'dropdown' }
                %ul.dropdown-menu
                  %li.dropdown-item.d-flex.justify-content-center
                    = link_to '日記を見る', '#', class: 'nav-link'
                  %li.dropdown-item.d-flex.justify-content-center
                    = link_to 'アカウント編集', edit_user_registration_path, class: 'nav-link'
                  %li.dropdown-item.d-flex.justify-content-center
                    = button_to 'ログアウト', destroy_user_session_path, data: { turbo_confirm: '本当にログアウトしますか?' }, class: 'nav-link text-white', method: :delete
            - else
              = link_to 'ログイン', new_user_session_path, class: 'nav-link text-white'
              = link_to '新規登録', new_user_registration_path, class: 'nav-link text-white'
    .container.mt-4
      = render 'layouts/flash'
      = yield
